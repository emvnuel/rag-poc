# =============================================================================
# Edge Deployment Profile
# =============================================================================
# Optimized for resource-constrained devices with limited memory (256MB)
# Activate with: -Dquarkus.profile=edge or QUARKUS_PROFILE=edge
# =============================================================================

# Force SQLite backend for edge deployment
lightrag.storage.backend=sqlite

# SQLite edge-optimized settings
lightrag.storage.sqlite.database-path=data/rag-edge.db
lightrag.storage.sqlite.pool-size=2
lightrag.storage.sqlite.cache-size=-500
lightrag.storage.sqlite.mmap-size=0
lightrag.storage.sqlite.batch-size=100
lightrag.storage.sqlite.edge-mode=true

# Reduce vector batch size for lower memory usage
lightrag.extraction.batch.size=50

# Reduce context token budgets for edge
lightrag.extraction.query.context.max-tokens=2000
lightrag.extraction.query.context.entity-budget-ratio=0.4
lightrag.extraction.query.context.relation-budget-ratio=0.3
lightrag.extraction.query.context.chunk-budget-ratio=0.3

# Disable gleaning to reduce LLM calls (edge may have limited connectivity)
lightrag.extraction.gleaning.enabled=false

# Reduce description max length
lightrag.extraction.description.max-length=2048

# Entity deduplication tuned for edge
lightrag.deduplication.enabled=true
lightrag.deduplication.similarity.preset=moderate
lightrag.deduplication.parallel.enabled=false
lightrag.deduplication.batch.size=50

# Disable reranker (external API calls)
lightrag.reranker.provider=none

# Reduced retry configuration for edge
smallrye.faulttolerance.global.retry.max-retries=2
smallrye.faulttolerance.global.retry.delay=200
smallrye.faulttolerance.global.retry.max-duration=5s
smallrye.faulttolerance.global.retry.jitter=50

# JVM memory settings hint (for startup scripts)
# Recommended: -Xmx128m -Xms64m
# These are comments; actual settings should be in JAVA_OPTS
